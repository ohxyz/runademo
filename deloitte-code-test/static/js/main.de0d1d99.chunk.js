(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,a,t){e.exports=t(89)},52:function(e,a,t){},54:function(e,a,t){},89:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(46),i=t.n(l),c=(t(52),t(3)),s=t(4),o=t(6),u=t(5),m=t(7),d=(t(54),function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"renderSubtitle",value:function(e,a){var t=e.launch_date_local.slice(0,10),n=e.launch_date_local.slice(11,19),l=a.filter(function(a){return a.id===e.launch_site.site_id})[0].full_name;return r.a.createElement("div",{className:"launch__subtitle"},"Launched on ",r.a.createElement("span",{className:"bold"},t)," at ",r.a.createElement("span",{className:"bold"},n)," from ",r.a.createElement("span",{className:"bold"},l))}},{key:"formatLink",value:function(e){return"reddit_campaign"===e?"Reddit Campaign":"reddit_launch"===e?"Reddit Launch":"reddit_recovery"===e?"Reddit Recovery":"reddit_media"===e?"Reddit Media":"presskit"===e?"Press":"article_link"===e?"Artical":"video_link"===e?"Video":""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{"aria-live":"polite",className:"launch__list"},r.a.createElement("div",{className:"launch__summary"},this.props.launches.length>0?r.a.createElement("span",null,"Showing ",this.props.launches.length," Missions"):r.a.createElement("span",{role:"alert"},"No results found.")),this.props.launches.map(function(a,t){return r.a.createElement("div",{className:"launch__item",key:t},r.a.createElement("div",{className:"launch__pic"},r.a.createElement("img",{alt:"A launch mission",src:a.links.mission_patch})),r.a.createElement("div",{className:"launch__main"},r.a.createElement("div",{className:"launch__title"},r.a.createElement("span",{className:"launch__rocket-name"},a.rocket.rocket_name),r.a.createElement("span",null," - "),a.payloads.map(function(e,a){return r.a.createElement("span",{className:"launch__payload-id",key:a},e.payload_id)}),(!a.launch_success||!a.land_success)&&r.a.createElement("span",{className:"launch__failure"},"- Failed Mission")),r.a.createElement("div",{className:"launch__subtitle"},e.renderSubtitle(a,e.props.pads)),r.a.createElement("div",{className:"launch__footer"},Object.keys(a.links).map(function(t){return"mission_patch"===t?null:r.a.createElement("a",{className:"link",rel:"noopener noreferrer",key:t,target:"_blank",href:a.links[t]||""},e.formatLink(t))}))),r.a.createElement("div",{className:"launch__flight-number flight"},r.a.createElement("div",{className:"flight__number"},"# "+a.flight_number),r.a.createElement("div",{className:"flight__literal"},"Flight Number")))}))}}]),a}(n.Component)),h=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).filter={keywords:"",minYear:"",maxYear:"",launchPad:""},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleClick",value:function(){parseInt(this.filter.minYear)>parseInt(this.filter.maxYear)?window.alert("Min year must not be greater than max year."):this.props.onApply(this.filter)}},{key:"handleDropdownChange",value:function(e,a){var t=e.target.value;"launch-pad"===a?this.filter.launchPad=t:"min-year"===a?this.filter.minYear=t:"max-year"===a&&(this.filter.maxYear=t)}},{key:"renderDropdown",value:function(e,a){var t=this;return r.a.createElement("select",{className:"filter-bar__"+a,onChange:function(e){t.handleDropdownChange(e,a)}},r.a.createElement("option",{value:""},"Any"),e.map(function(e,a){return"string"===typeof e?r.a.createElement("option",{value:e,key:a},e):"object"===typeof e?r.a.createElement("option",{value:e.id,key:e.id},e.name):null}))}},{key:"getFilterValues",value:function(e){for(var a={pads:[],years:[]},t=[],n=0;n<e.length;n++){var r=e[n],l=r.launch_date_local.slice(0,4),i=r.launch_site.site_id,c=r.launch_site.site_name;!1===t.includes(i)&&(t.push(i),a.pads.push({id:i,name:c})),!1===a.years.includes(l)&&a.years.push(l)}return a}},{key:"render",value:function(){var e,a,t=this,n=this.getFilterValues(this.props.launches);return e=n.years,a=n.pads,r.a.createElement("div",{className:"filter-bar"},r.a.createElement("div",{className:"filter-bar__item filter-bar__item--keywords"},r.a.createElement("label",null,"Keywords"),r.a.createElement("input",{type:"text",placeholder:"eg Falcon",className:"filter-bar__keywords",onChange:function(e){return t.filter.keywords=e.target.value.trim()}})),r.a.createElement("div",{className:"filter-bar__item filter-bar__item--launch-pad"},r.a.createElement("label",null,"Launch Pad"),this.renderDropdown(a,"launch-pad")),r.a.createElement("div",{className:"filter-bar__item filter-bar__item--min-year"},r.a.createElement("label",null,"Min Year"),this.renderDropdown(e,"min-year")),r.a.createElement("div",{className:"filter-bar__item filter-bar__item--max-year"},r.a.createElement("label",null,"Max Year"),this.renderDropdown(e,"max-year")),r.a.createElement("div",{className:"filter-bar__item filter-bar__item--button"},r.a.createElement("span",{className:"filter-bar__button",onClick:this.handleClick.bind(this)},"Apply")))}}]),a}(n.PureComponent),p=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).state={launches:[],pads:[],containerClass:""},t.launches=[],t.getLaunches(),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"getLaunches",value:function(){var e=this;this.props.onLoad().then(function(e){return[e[0].json(),e[1].json()]}).then(function(a){return Promise.all(a).then(function(a){e.launches=a[0].slice(),e.setState({launches:a[0],pads:a[1]})})}).catch(function(e){console.warn(e)})}},{key:"handleApply",value:function(e){var a=this.launches.filter(function(a){var t=parseInt(a.launch_date_local.slice(0,4)),n=parseInt(e.minYear)||-1,r=parseInt(e.maxYear)||9999;return(a.flight_number.toString()===e.keywords||a.rocket.rocket_name.includes(e.keywords)||a.payloads.some(function(a){return a.payload_id.includes(e.keywords)}))&&(a.launch_site.site_id===e.launchPad||""===e.launchPad)&&t>=n&&t<=r});this.setState({launches:a})}},{key:"scrollToSelector",value:function(e){window.document.querySelector(e).scrollIntoView({behavior:"smooth"})}},{key:"renderArrow",value:function(){var e=this;return r.a.createElement("div",{className:"arrow",onClick:function(){return e.scrollToSelector(".filter-bar")}},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 400",fill:"#ffffff"},r.a.createElement("polygon",{points:"386.257,114.331 202.128,252.427 18,114.331 0,138.331 202.128,289.927 404.257,138.331 "})))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__top"},"SPACE SAVVY"),r.a.createElement("div",{className:"header__middle"},"Discover Space Missions"),r.a.createElement("div",{className:"header__bottom"},this.renderArrow())),r.a.createElement("main",{role:"main",className:"main"},r.a.createElement(h,{onApply:this.handleApply.bind(this),launches:this.launches}),r.a.createElement(d,{launches:this.state.launches,pads:this.state.pads}),r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"copyright"},"Copyright 2019"),r.a.createElement("span",{className:"back-to-top",onClick:function(){return e.scrollToSelector(".container")}},"Back to top"))))}}]),a}(n.Component),f="/deloitte-code-test";function _(){var e=f+"/launches.json",a=f+"/launchpads.json";return Promise.all([fetch(e),fetch(a)])}t(56);var v=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,{onLoad:_}))}}]),a}(n.Component);i.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[47,2,1]]]);
//# sourceMappingURL=main.de0d1d99.chunk.js.map